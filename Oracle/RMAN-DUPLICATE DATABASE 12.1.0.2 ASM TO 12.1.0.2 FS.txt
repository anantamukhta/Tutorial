RMAN DUPLICATE DATABASE 12.1.0.2 ASM TO 12.1.0.2 FILESYSTEM
===========================================================
1. Edit /etc/hosts on both nodes
[root@stark orekel]# nano /etc/hosts
[root@stark orekel]# cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.58.7    stark.marvel.com        stark
192.168.58.130  jeruk.buah.net          jeruk
[root@stark orekel]#

2. Edit tnsnames on both nodes
[orekel@jeruk ~]$ nano $ORACLE_HOME/network/admin/tnsnames.ora
[orekel@jeruk ~]$ cat $ORACLE_HOME/network/admin/tnsnames.ora
# tnsnames.ora Network Configuration File: /z01/app/orekel/product/12102/db_1/network/admin/tnsnames.ora
# Generated by Oracle configuration tools.

ORANGE =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = jeruk.buah.net)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SID = orange)
    )
  )

IRONMAN =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = stark)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SID = ironman)
    )
  )
[orekel@jeruk ~]$

3. Passwordfile on jeruk.buah.net has been created
If not exists, create using this command:
orapwd file=/u01/app/oracle/product/11.2.0/db_1/dbs/orapwDB11G password=password entries=10

4. Create static listener on destination
[orekel@jeruk ~]$ nano $ORACLE_HOME/network/admin/listener.ora
[orekel@jeruk ~]$ cat $ORACLE_HOME/network/admin/listener.ora
# listener.ora Network Configuration File: /z01/app/orekel/product/12102/db_1/network/admin/listener.ora
# Generated by Oracle configuration tools.

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = jeruk.buah.net)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
      (ORACLE_HOME = /z01/app/orekel/product/12102/db_1)
      (SID_NAME = orange)
    )
  )

ADR_BASE_LISTENER = /z01/app/orekel
[orekel@jeruk ~]$ lsnrctl start

LSNRCTL for Linux: Version 12.1.0.2.0 - Production on 03-MAY-2017 20:39:50

Copyright (c) 1991, 2014, Oracle.  All rights reserved.

Starting /z01/app/orekel/product/12102/db_1/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 12.1.0.2.0 - Production
System parameter file is /z01/app/orekel/product/12102/db_1/network/admin/listener.ora
Log messages written to /z01/app/orekel/diag/tnslsnr/jeruk/listener/alert/log.xml
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=jeruk.buah.net)(PORT=1521)))
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=jeruk.buah.net)(PORT=1521)))
STATUS of the LISTENER
------------------------
Alias                     LISTENER
Version                   TNSLSNR for Linux: Version 12.1.0.2.0 - Production
Start Date                03-MAY-2017 20:39:53
Uptime                    0 days 0 hr. 0 min. 0 sec
Trace Level               off
Security                  ON: Local OS Authentication
SNMP                      OFF
Listener Parameter File   /z01/app/orekel/product/12102/db_1/network/admin/listener.ora
Listener Log File         /z01/app/orekel/diag/tnslsnr/jeruk/listener/alert/log.xml
Listening Endpoints Summary...
  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=jeruk.buah.net)(PORT=1521)))
  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))
Services Summary...
Service "orange" has 1 instance(s).
  Instance "orange", status UNKNOWN, has 1 handler(s) for this service...
The command completed successfully
[orekel@jeruk ~]$

5. Startup nomount destination
[orekel@jeruk ~]$ rlwrap sqlplus sys/orekel789 as sysdba

SQL*Plus: Release 12.1.0.2.0 Production on Wed May 3 20:59:54 2017

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

Connected to an idle instance.

SQL> STARTUP NOMOUNT;
ORACLE instance started.

Total System Global Area  763363328 bytes
Fixed Size                  2929064 bytes
Variable Size             578817624 bytes
Database Buffers          176160768 bytes
Redo Buffers                5455872 bytes
SQL>

6. RMAN auxiliary
[orekel@stark ~]$ rlwrap rman target sys/orekel789@ironman AUXILIARY sys/orekel789@orange

Recovery Manager: Release 12.1.0.2.0 - Production on Wed May 3 14:08:49 2017

Copyright (c) 1982, 2014, Oracle and/or its affiliates.  All rights reserved.

connected to target database: IRONMAN (DBID=3722766257)
connected to auxiliary database: ORANGE (not mounted)

RMAN>

7. 

Corat-coret
===========
run{
  SET NEWNAME FOR DATABASE TO '%U';
  DUPLICATE TARGET DATABASE TO orange FROM ACTIVE DATABASE
    DB_FILE_NAME_CONVERT '+DATA','/z02/datafile-orange'
    LOGFILE
      GROUP 1 ('/z02/onlinelog-orange/redo01.log') SIZE 50M REUSE,
      GROUP 2 ('/z02/onlinelog-orange/redo02.log') SIZE 50M REUSE,
      GROUP 3 ('/z02/onlinelog-orange/redo03.log') SIZE 50M REUSE;
}

/z02/onlinelog-orange

RUN
{
  SET NEWNAME FOR DATABASE TO '/oradata/%U'; 
  DUPLICATE TARGET DATABASE TO dupdb
    SKIP TABLESPACE tools
    LOGFILE
      GROUP 1 ('/duplogs/redo01a.log', 
               '/duplogs/redo01b.log') SIZE 4M REUSE, 
      GROUP 2 ('/duplogs/redo02a.log', 
               '/duplogs/redo02b.log') SIZE 4M REUSE;
}

DUPLICATE TARGET DATABASE TO 'DUP' FROM ACTIVE DATABASE
2> DB_FILE_NAME_CONVERT '/home/oracle/app/oracle/oradata/prd','/home/oracle/app/oracle/oradata/dup';